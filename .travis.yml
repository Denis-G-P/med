
language: cpp
sudo: true

# branch push _and_ the pull request.
branches:
  except: /pr\/.*/

compiler:
  - gcc
  - clang

script:
  - ./reconf
  - mkdir build && cd build && ../configure && make -j && make check
  

before_install:
  - sudo apt-get -qq update
  - sudo apt-get install -y libgtest-dev

addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - g++-6
      - clang-3.6

#      - gcc-6
#      - clang

install:
  - if [ "$CXX" = "g++" ]; then export CXX="g++-6" CC="gcc-6"; fi

notifications:
  email: false

